<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>batmov</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
    <script src="../../scripts/header.js" defer></script>
    <script src="aside.js" defer></script>
</head>
<body>
    <main>
        <header id="header">
        </header>

        <div class="limiter">

            <aside id="aside">
            </aside>

            <div class="right-aside">

                <h1>Text statistics</h1>
                <h3>Import file or input your text and you will be presented with statistics</h3>
                <h3>Import file:</h3>

                <label class="input-import" for="import">Browse...</label>
                <input id="import" accept=".txt" type="file"><br><br>

                <h3>Your text:</h3>
                <textarea class="input" id="text"></textarea><br><br>
                <div id="newresult">
                </div>

            </div>
        </div>
    </main>
</body>
<script>
    var textbox = document.getElementById("text")
    var result = document.getElementById("newresult")
    var input = document.getElementById("import")

    textbox.oninput = function(){update()}
    function update()
    {
        var length = textbox.value.length
        var words = textbox.value.trim().split(/\s+/).length

        if (textbox.value == "")
        {
            words = 0
        }

        result.innerHTML = "Length: <b>" + length + "</b><br> Words: <b>" + words + "</b>"
    }

    input.addEventListener("change", function(){
        var fr=new FileReader()
            fr.onload=function(){ 
                var readresult = fr.result
                textbox.value = readresult
                update()  
            } 
              
        fr.readAsText(this.files[0])

    })

    update()
</script>
</html>